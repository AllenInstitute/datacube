{
    "$schema": "http://json-schema.org/schema#",
    
    "definitions": {
        "selector": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "start": {"oneOf": [{"type": "integer"}, {"type": "null"}]},
                        "stop": {"oneOf": [{"type": "integer"}, {"type": "null"}]},
                        "step": {"oneOf": [{"type": "integer"}, {"type": "null"}]}
                    }
                },
                {"type": "array", "items": [{"type": "integer"}]},
                {"type": "array", "items": [{"type": "boolean"}]},
                {"type": "null"}
            ]
        }
        ,
        "select": {
            "type": "array",
            "items": {"$ref": "#/definitions/selector"}
        }
        ,
        "axis": {"type": "integer", "minimum": 0}
        ,
        "info": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^info$"}
            }
        }
        ,
        "raw": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^raw$"},
                "select": {"$ref": "#/definitions/select"}
            }
        }
        ,
        "log2_1p": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^log2_1p$"},
                "select": {"$ref": "#/definitions/select"}
            }
        }
        ,
        "standard": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^standard$"},
                "select": {"$ref": "#/definitions/select"},
                "axis": {"$ref": "#/definitions/axis"}
            },
            "required": ["call", "select", "axis"]
        }
        ,
        "corr": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^corr$"},
                "select": {"$ref": "#/definitions/select"},
                "axis": {"$ref": "#/definitions/axis"},
                "seed": {"type": "integer"}
            },
            "required": ["call", "select", "axis", "seed"]
        }
        ,
        "fold_change": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^fold_change$"},
                "numerator": {"$ref": "#/definitions/select"},
                "denominator": {"$ref": "#/definitions/select"},
                "axis": {"$ref": "#/definitions/axis"}
            },
            "required": ["call", "numerator", "denominator", "axis"]
        }
        ,
        "diff": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^diff$"},
                "numerator": {"$ref": "#/definitions/select"},
                "denominator": {"$ref": "#/definitions/select"},
                "axis": {"$ref": "#/definitions/axis"}
            },
            "required": ["call", "numerator", "denominator", "axis"]
        }
        ,
        "meta": {
            "type": "object",
            "properties": {
                "call": {"type": "string", "pattern": "^meta$"}
            },
            "required": ["call"]
        }
    },
    
    "allOf": [
        {
            "type": "object",
            "properties": {
                "call": {"type": "string"},
                "binary": {"type": "boolean"},
                "validate": {"type": "boolean"}
            },
            "required": ["call"]
        }
        ,
        {
            "oneOf": [
                {"$ref": "#/definitions/info"},
                {"$ref": "#/definitions/raw"},
                {"$ref": "#/definitions/log2_1p"},
                {"$ref": "#/definitions/standard"},
                {"$ref": "#/definitions/corr"},
                {"$ref": "#/definitions/fold_change"},
                {"$ref": "#/definitions/diff"},
                {"$ref": "#/definitions/meta"}
            ]
        }
    ]
}
